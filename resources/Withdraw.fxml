<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="658.0" prefWidth="690.0"
            style="-fx-background-color: #fff3b0;"
            stylesheets="@style.css"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="bankingsystem.controllers.WithdrawController">

    <children>

        <!-- Header -->
        <Pane prefHeight="70.0" prefWidth="690.0"
              style="-fx-background-color: #D2B48C;
                     -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 5, 0, 0, 3);">
            <children>
                <Text fill="#5D4037" layoutX="200.0" layoutY="42.0" text="Lekgwere Banking System">
                    <font>
                        <Font name="Segoe UI Bold" size="20.0" />
                    </font>
                </Text>

                <ImageView fitHeight="80.0" fitWidth="90.0"
                           layoutX="455.0" layoutY="-5.0"
                           preserveRatio="true">
                    <image>
                        <Image url="@../Icons/sunset-.png" />
                    </image>
                </ImageView>
            </children>
        </Pane>

        <!-- Main Content -->
        <VBox layoutX="150.0" layoutY="100.0"
              prefWidth="400.0" spacing="30.0"
              alignment="CENTER">

            <!-- Title -->
            <Text fill="#5D4037" style="-fx-font-weight: bold;" text="Withdraw Funds">
                <font>
                    <Font name="Segoe UI" size="24.0" />
                </font>
            </Text>

            <!-- Form Container -->
            <VBox spacing="20.0"
                  style="-fx-background-color: rgba(210,180,140,0.3);
                         -fx-background-radius: 10;
                         -fx-padding: 25;
                         -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 5, 0, 0, 2);">

                <!-- Account Type -->
                <VBox spacing="5.0">
                    <Label style="-fx-text-fill: #5D4037; -fx-font-weight: bold;" text="Account Type:" />
                    <ComboBox fx:id="cmbAccountType"
                              prefHeight="35.0" prefWidth="300.0"
                              promptText="Select Account"
                              style="-fx-background-color: white;
                                     -fx-border-color: #D2B48C;
                                     -fx-border-radius: 5;
                                     -fx-background-radius: 5;" />
                </VBox>

                <!-- Available Balance -->
                <VBox spacing="5.0">
                    <Label style="-fx-text-fill: #5D4037; -fx-font-weight: bold;" text="Available Balance:" />
                    <TextField fx:id="txtAvailableBalance"
                               editable="false"
                               prefHeight="35.0" prefWidth="300.0"
                               style="-fx-background-color: white;
                                      -fx-border-color: #D2B48C;
                                      -fx-border-radius: 5;
                                      -fx-background-radius: 5;
                                      -fx-font-weight: bold;" />
                </VBox>

                <!-- Withdraw Amount -->
                <VBox spacing="5.0">
                    <Label style="-fx-text-fill: #5D4037; -fx-font-weight: bold;" text="Withdraw Amount (P):" />
                    <TextField fx:id="txtWithdrawAmount"
                               prefHeight="35.0" prefWidth="300.0"
                               promptText="Enter amount to withdraw"
                               style="-fx-background-color: white;
                                      -fx-border-color: #D2B48C;
                                      -fx-border-radius: 5;
                                      -fx-background-radius: 5;" />
                </VBox>

                <!-- Mobile Number (Optional) -->
                <VBox spacing="5.0">
                    <Label style="-fx-text-fill: #5D4037; -fx-font-weight: bold;" text="Mobile Number (Optional):" />
                    <HBox spacing="5.0">
                        <children>
                            <TextField editable="false"
                                       prefHeight="35.0" prefWidth="60.0"
                                       style="-fx-background-color: white;
                                              -fx-border-color: #D2B48C;
                                              -fx-border-radius: 5;
                                              -fx-background-radius: 5;
                                              -fx-font-weight: bold;"
                                       text="+267" />
                            <TextField fx:id="txtMobileNumber"
                                       prefHeight="35.0" prefWidth="235.0"
                                       promptText="Enter mobile number"
                                       style="-fx-background-color: white;
                                              -fx-border-color: #D2B48C;
                                              -fx-border-radius: 5;
                                              -fx-background-radius: 5;" />
                        </children>
                    </HBox>
                </VBox>
            </VBox>

            <!-- Action Buttons -->
            <HBox alignment="CENTER" spacing="15.0">
                <children>
                    <Button fx:id="btnConfirm" onAction="#handleWithdraw"
                            text="Withdraw"
                            style="-fx-background-color: #D2B48C;
                                   -fx-text-fill: #5D4037;
                                   -fx-font-weight: bold;
                                   -fx-background-radius: 8;
                                   -fx-pref-width: 120;
                                   -fx-pref-height: 40;
                                   -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 4, 0, 0, 2);" />

                    <Button onAction="#handleBack"
                            text="Back"
                            style="-fx-background-color: transparent;
                                   -fx-text-fill: #5D4037;
                                   -fx-border-color: #5D4037;
                                   -fx-border-radius: 8;
                                   -fx-background-radius: 8;
                                   -fx-pref-width: 100;
                                   -fx-pref-height: 40;" />
                </children>
            </HBox>

            <!-- Feedback Label -->
            <Label fx:id="lblFeedback"
                   style="-fx-text-fill: #5D4037;
                          -fx-font-weight: bold;
                          -fx-alignment: center;" />
        </VBox>

        <!-- Decorative Image -->
        <ImageView fitHeight="200.0" fitWidth="160.0"
                   layoutX="515.0" layoutY="495.0"
                   preserveRatio="true">
            <image>
                <Image url="@../Icons/palm-tree.png" />
            </image>
        </ImageView>
    </children>
</AnchorPane>
